<!--Write code so when a user clicks on the button in a row, the contents of the cells in that row are stored in an object and output to the console-->

<html>
    <head>
        <title>Week 6 Exercise 2.9</title>
    </head>
    <body>
        <table id = "myTable">
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Age</th>
                <th></th>
            </tr>
            <tr>
                <td>Sam</td>
                <td>Tracey</td>
                <td>25</td>
                <td><button onclick = "doRow(this)">Go</button></td>
            </tr>
            <tr>
                <td>Andrew</td>
                <td>Beatty</td>
                <td>30</td>
                <td><button onclick = "doRow(this)">Go</button></td>
            </tr>
            <tr>
                <td>John</td>
                <td>Doe</td>
                <td>35</td>
                <td><button onclick = "doRow(this)">Go</button></td>
            </tr>
        </table>
        <br>
        <button onclick = "createRow()">Create Row</button>
        <script>
            function doRow(button){
                var data = {}
                var row = button.parentNode.parentNode
                data.firstName = row.cells[0].innerHTML
                data.lastName = row.cells[1].innerHTML
                data.age = row.cells[2].innerHTML
                console.log("row data" + JSON.stringify(data))
            }
            // A function to add another row to the table
            function createRow(){
                var table = document.getElementById("myTable")
                var data = {cell1:"Ian", cell2:"Smith", cell3:"40"}

                var row = table.insertRow(-1)
                var cell1 = row.insertCell(0)
                var cell2 = row.insertCell(1)
                var cell3 = row.insertCell(2)
            
                cell1.innerHTML = data.cell1;
                cell2.innerHTML = data.cell2;
                cell3.innerHTML = data.cell3;
                
                
            }
        </script>
    </body>
</html>